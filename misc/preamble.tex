% !TEX root = ../main.tex

%%%%% SELECT YOUR DRAFT OPTIONS
% Three options going on here; use in any combination.  But remember to turn the first two off before
% generating a PDF to send to the printer!
% This highlights (in blue) corrections marked with (for words) \mccorrect{blah} or (for whole
% paragraphs) \begin{mccorrection} . . . \end{mccorrection}.  This can be useful for sending a PDF of
% your corrected thesis to your examiners for review.  Turn it off, and the blue disappears.
\correctionstrue

%%%%% BIBLIOGRAPHY SETUP
\usepackage{natbib}
\bibliographystyle{plainnat}
% This makes the bibliography left-aligned (not 'justified') and slightly smaller font.
\renewcommand*{\bibfont}{\small}
\setlength{\bibsep}{2pt}
\setcitestyle{square}

%%%%% THESIS / TITLE PAGE INFORMATION
% Everybody needs to complete the following:
\title{Automating Inference, Learning, and Design}
\author{Tom Rainforth}
\college{Wolfson College}

% Your full degree name.  (But remember that DPhils aren't "in" anything.  They're just DPhils.)
\degree{Doctor of Philosophy}
% Term and year of submission, or date if your board requires (eg most masters)
\degreedate{Trinity 2017}

\usepackage{microtype}

% use Times
\usepackage{times}
% For figures
\usepackage{graphicx} % more modern
%\usepackage{epsfig} % less modern
%\usepackage{subfigure} 
\usepackage{subcaption} 
\graphicspath{{./part/ipmcmc/figures/}{./misc/figures/}{./bopp/figures/}{./opt/figures/}{./design/figures/}{./nest/figures/}{./inf/figures/}{./part/figures/}{./bayes/figures/}{./probprog/figures/}{./part/figures/}}
\usepackage{tikz}
\usetikzlibrary{fit}					% fitting shapes to coordinates
\usetikzlibrary{backgrounds}	% drawing the background after the foreground
\usepackage{setspace}

\usepackage{cancel}

%\usepackage{svg}

% For algorithms


% For math
\usepackage{amsthm}
\usepackage{dsfont}
\usepackage{amssymb,amsmath}
\usepackage{bbm}

%\newcommand{\theHalgorithm}{\arabic{algorithm}}

\usepackage{hyperref}

\usepackage{bibentry}
\nobibliography*


% % BOPP

%\usepackage{enumitem}
%\setlist[itemize]{leftmargin=*}
%\usepackage{paralist}
\usepackage{footmisc}
\usepackage{listings}
\usepackage{color}
\usepackage{xcolor}
\usepackage{textcomp}
\usepackage{xspace}
\usepackage{amsbsy}
\usepackage{siunitx}
%\usepackage{algorithmicx}
%\usepackage{algpseudocode}
\usepackage{mathtools}
\usepackage{array}
\usepackage{booktabs}
\usepackage{adjustbox}
\usepackage{microtype}
\usepackage{todonotes}

\usepackage{wrapfig}
\usepackage{thmtools}
\usepackage{thm-restate}

\newcommand{\angurl}{\scriptsize \url{http://www.robots.ox.ac.uk/~fwood/anglican}}
\newcommand{\myurl}{\scriptsize \url{https://bitbucket.org/twgr/ipmcmc}}

%\definecolor{darkgreen}{rgb}{0.25,.5,0}
%\definecolor{blue}{rgb}{0,0.33,0.66}
%\definecolor{red}{rgb}{0.66,0.0,0.0}
%\definecolor{purple}{rgb}{0.33,0,0.66}
%\definecolor{cyan}{rgb}{0.0,0.5,0.5}
%\definecolor{orange}{rgb}{0.5,0.25,0.0}
%\definecolor{gray}{rgb}{0.4,0.4,0.4}
\lstset{ 
	language=Lisp, 
	basicstyle=\small\ttfamily,
	keywordstyle={}, 
	alsoletter={/},
	alsoletter={:},
	alsoletter={*},
	alsoletter={<-},
	alsoletter={->},
	commentstyle=\em \color{gray}, 
	frame=lines,
	%float=tbph,
	% captionpos=b,
	showstringspaces=false, 
	keywordstyle=[1]\bf\ttfamily\color{blue},
	keywords=[1]{BO,theta-best,bo-acquire,sample-initial-points,sample,observe,observe*,observe<-,predict,mem,store,retrieve,return,catch,throw,
		->sample,->observe},
	keywordstyle=[2]\bf\ttfamily\color{red},
	keywords=[2]{defn,def,if,let,letfn,loop,looppredict,recur},
	keywordstyle=[3]\bf\ttfamily\color{cyan},
	keywords=[3]{absorb,assoc,argmax,count,cons,conj,dirichlet-discrete,do,exponential,first,flip,fn,gamma,beta,get,keys,lazy-seq,map,mvn-niw,nth,mat/add,mat/div,normal,print,produce,reduce,repeat,repeatedly,rest,set,shape,take,uniform-continuous,vec,distribution,factor,simulate,abc-likelihood,when,max,student-t,trampoline},
	keywordstyle=[4]\bf\ttfamily\color{purple},
	keywords=[4]{defopt,defquery,doopt,doquery,query,defdist,infer,checkpoint,exec},
	keywordstyle=[5]\ttfamily\color{orange},
	keywords=[5]{:nu,:alpha,:id},
	mathescape=true,
	stringstyle={},
} 
\lstnewenvironment{code}[2]{\lstset{caption=#1,label=#2}}{}

\newtheorem{example}{Example} 
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma} 
%\newtheorem{proposition}[proposition]{Proposition} 
\newtheorem{remark}{Remark}
%\newtheorem{corollary}[corollary]{Corollary}
\newtheorem{definition}{Definition}[chapter]
%\newtheorem{conjecture}[conjecture]{Conjecture}
%\newtheorem{axiom}[axiom]{Axiom}

% % % % % % % % % % % % % % % % % % %


\usepackage{packages/naesseth}
%\usepackage{packages/algorithm,packages/algorithmic}
\usepackage{packages/abbreviations}
\usepackage{packages/tikz-bayesnet}

\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{setspace}
% % % % % % % % %
\algnewcommand\algorithmicswitch{\textbf{switch}}
\algnewcommand\algorithmiccase{\textbf{case}}
\algnewcommand\algorithmicassert{\texttt{assert}}
\algnewcommand\Assert[1]{\State \algorithmicassert(#1)}%
% New "environments"
\algdef{SE}[SWITCH]{Switch}{EndSwitch}[1]{\algorithmicswitch\ #1\ \algorithmicdo}{\algorithmicend\ \algorithmicswitch}%
\algdef{SE}[CASE]{Case}{EndCase}[1]{\algorithmiccase\ #1}{\algorithmicend\ \algorithmiccase}%
%\algtext*{EndSwitch}%
\algtext*{EndCase}%